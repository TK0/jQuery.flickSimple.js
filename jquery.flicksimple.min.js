/**
 * jQuery.flickSimple v1.2.0
 *
 * Copyright (c) 2011 Makog. http://d.hatena.ne.jp/makog/
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
<<<<<<< HEAD
(function(d){d.flickSimple=function(a,c){this.setup(d(a),c)};d.extend(d.flickSimple.prototype,{elm:null,target:null,snap:"element",ratio:5,duration:600,lock:!1,onChange:null,onResize:null,onAnimationEnd:null,onClick:null,elmWidth:0,page:1,pageWidth:0,pageLength:0,android:!1,webkit:!0,touchable:!0,anc:null,touchhold:!1,startX:null,startY:null,preX:0,currentX:0,flickX:0,nextX:0,setup:function(a,c){var b=this;b.elm=a;b.elm.css({overflow:"hidden"});b.target=c.target||b.elm.find("ul");b.android=c.android===
void 0?navigator.userAgent.indexOf("Android")!==-1:c.android;b.webkit=typeof WebKitTransitionEvent!=="undefined";b.touchable=typeof ontouchstart!=="undefined";if(c.snap!==void 0)b.snap=c.snap;if(c.ratio!==void 0)b.ratio=c.ratio;if(c.duration!==void 0)b.duration=c.duration;if(c.lock!==void 0)b.lock=c.lock;b.onChange=c.onChange;b.onResize=c.onResize;b.onAnimationEnd=c.onAnimationEnd;b.onClick=c.onClick;typeof window.onorientationchange==="object"&&!b.android?d(window).bind("orientationchange",function(){b.updateSize()}):
d(window).bind("resize",function(){b.updateSize()});b.init();b.android||!b.webkit?b.target.css({position:"relative"}):b.target.css({position:"relative",webkitTransition:"none",webkitTransform:"translate3d(0,0,0)"});b.updateSize();b.touchable?b.elm.bind("touchstart",function(a){b.touchstart(a)}).bind("touchmove",function(a){b.touchmove(a)}).bind("touchend",function(a){b.touchend(a)}):(b.elm.bind("mousedown",function(a){b.touchstart(a)}),d("body").bind("mouseup",function(a){b.touchend(a)}).bind("mousemove",
function(a){b.touchmove(a)}));b.target.bind("webkitTransitionEnd",function(a){if(d.isFunction(b.onAnimationEnd))b.onAnimationEnd(a)});return b},nextPage:function(a){return this.goTo(this.page+(a||1))},prevPage:function(a){return this.goTo(this.page-(a||1))},goTo:function(a){return this.move(-((a-1)*this.pageWidth))},move:function(a){a>0?a=0:a<-this.elmWidth&&(a=-this.elmWidth);this.android||!this.webkit?this.target.animate({left:a+"px"}):this.target.css({webkitTransition:"-webkit-transform 0.3s ease-in",
webkitTransform:"translate3d("+a+"px,0,0)"});return this.update(a)},updateSize:function(){var a=typeof window.orientation!=="undefined"?window.orientation===0?"portrait":"landscape":window.innerWidth<window.innerHeight?"portrait":"landscape",c=this.target.find("li");this.elm.removeClass("landscape portrait").addClass(a);this.target.removeClass("landscape portrait").addClass(a);c.removeClass("landscape portrait").addClass(a);var a=this.target.width(),b=this.elm.width();this.elmWidth=a-b;if(this.snap===
"element")this.pageWidth=b;else if(this.snap==="first")this.pageWidth=d(c.get(0)).width();else if(this.snap==="smallest"){var e=0;c.each(function(){var a=d(this).width();if(e>a||e==0)e=a});this.pageWidth=e}else this.pageWidth=isNaN(this.snap)?0:this.snap;this.pageLength=Math.ceil(a/this.pageWidth);if(d.isFunction(this.onResize))this.onResize();this.goTo(this.page);return this},touchstart:function(a){var c=this,b=c.touchable?event.changedTouches[0]:a;c.startX=b.clientX;c.startY=b.clientY;c.touchhold=
!1;a=a.target.tagName==="A"?d(a.target):d(a.target).closest("a");if(a.length>0)c.anc=a;setTimeout(function(){if(c.anc){c.touchhold=!0;var a=c.anc,b=d.data(a.get(0),"flickSimple.link");b&&(a.attr("href",b),setTimeout(function(){a&&a.attr("href","javascript:;")},200))}},600)},touchmove:function(a){(this.android||this.lock)&&a.preventDefault();if(this.startX===null)this.anc=null;else{var a=this.touchable?a.originalEvent.touches[0]:a,c=a.clientX;if(Math.abs(this.startX-c)>16||Math.abs(this.startY-a.clientY)>
16)this.anc=null;this.nextX=(this.currentX||0)+(c-this.startX);this.android||!this.webkit?this.target.css({left:this.nextX+"px"}):this.target.css({webkitTransition:"none",webkitTransform:"translate3d("+this.nextX+"px,0,0)"});this.flickX=this.preX-c;this.preX=c}},touchend:function(a){if(this.startX!==null){this.startY=this.startX=null;if(this.anc&&!this.touchhold){if(d.isFunction(this.onClick))this.onClick(this.anc);var c=this.anc.get(0),b=d.data(c,"flickSimple.link"),c=d.data(c,"flickSimple.target");
if(b)c&&c!=="_self"?(c==="_blank"&&(c=""),window.open(b,c)):location.href=b;a.preventDefault()}this.touchhold=!1;a=this.nextX+this.flickX*-this.ratio;this.pageWidth&&(b=a%this.pageWidth,a-=b<-this.pageWidth/2?b+this.pageWidth:b);a>0?a=0:a<-this.elmWidth&&(a=-this.elmWidth);this.android||!this.webkit?this.target.animate({left:a+"px"},this.duration,function(a,b,c,d,g){return-d*(b/=g)*(b-2)+c}):this.target.css({webkitTransition:"-webkit-transform "+this.duration/1E3+"s ease-out",webkitTransform:"translate3d("+
a+"px,0,0)"});this.update(a)}},update:function(a){if(this.pageWidth)this.page=Math.ceil(a*-1/this.pageWidth)+1;if(this.currentX!==a&&(this.currentX=a,d.isFunction(this.onChange)))this.onChange();return this},no_mousedown:function(a){a.preventDefault()},init:function(){var a=this;a.target.find("a").each(function(){var c=d(this),b=c.attr("href"),e=c.attr("target");b&&b!=="javascript:;"&&d.data(this,"flickSimple.link",b);d.data(this,"flickSimple.target",e||"");c.attr("href","javascript:;").removeAttr("target");
a.touchable||c.unbind("mousedown",a.no_mousedown).bind("mousedown",a.no_mousedown)});a.touchable||a.target.find("img").unbind("mousedown",a.no_mousedown).bind("mousedown",a.no_mousedown);return a}});d.fn.flickSimple=function(a){var c=this;if(typeof a==="string"){var b=Array.prototype.slice.call(arguments,1);this.each(function(){var e=d.data(this,"flickSimple"),f;e&&(d.isFunction(e[a])?f=e[a].apply(e,b):(b.length>0&&(e[a]=b[1]),f=e[a]));f!==e&&(c=f)})}else this.each(function(){var b=d.data(this,"flickSimple");
b?c=b:d.data(this,"flickSimple",new d.flickSimple(this,a||{}))});return c}})(jQuery);
=======
(function(d){d.flickSimple=function(b,a){this.setup(d(b),a)};d.extend(d.flickSimple.prototype,{elm:null,target:null,snap:"element",ratio:5,duration:600,lock:false,onChange:null,onResize:null,onAnimationEnd:null,onClick:null,vertical:false,horizontal:true,paginate:"x",elmWidth:0,elmHeight:0,page:1,pageWidth:0,pageHeight:0,pageLength:0,android:false,webkit:true,touchable:true,anc:null,touchhold:false,startX:null,startY:null,preX:0,preY:0,currentX:0,currentY:0,flickX:0,flickY:0,nextX:0,nextY:0,setup:function(b,
a){var c=this;c.elm=b;c.elm.css({overflow:"hidden"});c.target=a.target||d(c.elm.children().get(0));c.android=a.android===void 0?navigator.userAgent.indexOf("Android")!==-1:a.android;c.webkit=typeof WebKitTransitionEvent!=="undefined";c.touchable=typeof ontouchstart!=="undefined";if(a.snap!==void 0)c.snap=a.snap;if(a.ratio!==void 0)c.ratio=a.ratio;if(a.duration!==void 0)c.duration=a.duration;if(a.lock!==void 0)c.lock=a.lock;if(a.vertical!==void 0)c.vertical=a.vertical;if(a.horizontal!==void 0)c.horizontal=
a.horizontal;if(a.paginate!==void 0)c.paginate=a.paginate;c.onChange=a.onChange;c.onResize=a.onResize;c.onAnimationEnd=a.onAnimationEnd;c.onClick=a.onClick;typeof window.onorientationchange==="object"&&!c.android?d(window).bind("orientationchange",function(){c.updateSize()}):d(window).bind("resize",function(){c.updateSize()});c.init();c.android||!c.webkit?c.target.css({position:"relative"}):c.target.css({position:"relative",webkitTransition:"none",webkitTransform:"translate3d(0,0,0)"});c.updateSize();
c.touchable?c.elm.bind("touchstart",function(a){c.touchstart(a)}).bind("touchmove",function(a){c.touchmove(a)}).bind("touchend",function(a){c.touchend(a)}):(c.elm.bind("mousedown",function(a){c.touchstart(a)}),d("body").bind("mouseup",function(a){c.touchend(a)}).bind("mousemove",function(a){c.touchmove(a)}));c.target.bind("webkitTransitionEnd",function(a){if(d.isFunction(c.onAnimationEnd))c.onAnimationEnd(a)});return c},nextPage:function(b){return this.goTo(this.page+(b||1))},prevPage:function(b){return this.goTo(this.page-
(b||1))},goTo:function(b){if(b>this.pageLength)b=this.pageLength;b--;var a,c,d;this.paginate==="y"?(d=Math.ceil(this.elmHeight/this.pageHeight)+1,a=Math.floor(b/d),c=b%d):(d=Math.ceil(this.elmWidth/this.pageWidth)+1,c=Math.floor(b/d),a=b%d);return this.move(-(a*this.pageWidth),-(c*this.pageHeight))},move:function(b,a){!this.horizontal||b>=0?b=0:b<-this.elmWidth&&(b=-this.elmWidth);!this.vertical||a>=0?a=0:a<-this.elmHeight&&(a=-this.elmHeight);this.android||!this.webkit?this.target.animate({left:b+
"px",top:a+"px"}):this.target.css({webkitTransition:"-webkit-transform 0.3s ease-in",webkitTransform:"translate3d("+b+"px,"+a+"px,0)"});return this.update(b,a)},updateSize:function(){var b=typeof window.orientation!=="undefined"?window.orientation===0?"portrait":"landscape":window.innerWidth<window.innerHeight?"portrait":"landscape",a=this.target.children();this.elm.removeClass("landscape portrait").addClass(b);this.target.removeClass("landscape portrait").addClass(b);a.removeClass("landscape portrait").addClass(b);
var b=this.target.width(),c=this.target.height(),e=this.elm.width(),g=this.elm.height();this.elmWidth=b-e;this.elmHeight=c-g;this.pageLength=this.pageHeight=this.pageWidth=0;if(this.snap){if(this.snap==="element")this.pageWidth=e,this.pageHeight=g;else if(this.snap==="first")this.pageWidth=d(a.get(0)).width(),this.pageHeight=d(a.get(0)).height();else if(this.snap==="smallest"){var f=0;a.each(function(){var a=d(this).width();if(f>a||f==0)f=a});this.pageWidth=f;f=0;a.each(function(){var a=d(this).height();
if(f>a||f==0)f=a});this.pageHeight=f}else if(typeof this.snap==="object")this.pageWidth=this.snap[0],this.pageHeight=this.snap[1];else if(!isNaN(this.snap))this.pageHeight=this.pageWidth=this.snap;this.pageLength=Math.ceil(b/this.pageWidth);c>this.pageHeight&&(this.pageLength*=Math.ceil(c/this.pageHeight))}if(d.isFunction(this.onResize))this.onResize();this.goTo(this.page);return this},touchstart:function(b){var a=this,c=a.touchable?event.changedTouches[0]:b;a.startX=c.clientX;a.startY=c.clientY;
a.touchhold=false;b=b.target.tagName==="A"?d(b.target):d(b.target).closest("a");if(b.length>0)a.anc=b;setTimeout(function(){if(a.anc){a.touchhold=true;var b=a.anc,c=d.data(b.get(0),"flickSimple.link");c&&(b.attr("href",c),setTimeout(function(){b&&b.attr("href","javascript:;")},200))}},600)},touchmove:function(b){(this.android||this.lock)&&b.preventDefault();if(this.startX===null||this.startY===null)this.anc=null;else{var b=this.touchable?b.originalEvent.touches[0]:b,a=b.clientX,c=b.clientY;if(Math.abs(this.startX-
a)>16||Math.abs(this.startY-b.clientY)>16)this.anc=null;this.nextX=this.horizontal?(this.currentX||0)+(a-this.startX):0;this.nextY=this.vertical?(this.currentY||0)+(c-this.startY):0;this.android||!this.webkit?this.target.css({left:this.nextX+"px",top:this.nextY}):this.target.css({webkitTransition:"none",webkitTransform:"translate3d("+this.nextX+"px,"+this.nextY+"px,0)"});this.flickX=this.preX-a;this.flickY=this.preY-c;this.preX=a;this.preY=c}},touchend:function(b){if(!(this.startX===null||this.startY===
null)){this.startY=this.startX=null;if(this.anc&&!this.touchhold){if(d.isFunction(this.onClick))this.onClick(this.anc);var a=this.anc.get(0),c=d.data(a,"flickSimple.link"),a=d.data(a,"flickSimple.target");if(c)a&&a!=="_self"?(a==="_blank"&&(a=""),window.open(c,a)):location.href=c;b.preventDefault()}this.touchhold=false;b=this.nextX+this.flickX*-this.ratio;c=this.nextY+this.flickY*-this.ratio;this.pageWidth&&(a=b%this.pageWidth,b-=a<-this.pageWidth/2?a+this.pageWidth:a,a=c%this.pageHeight,c-=a<-this.pageHeight/
2?a+this.pageHeight:a);!this.horizontal||b>=0?b=0:b<-this.elmWidth&&(b=-this.elmWidth);!this.vertical||c>=0?c=0:c<-this.elmHeight&&(c=-this.elmHeight);this.android||!this.webkit?this.target.animate({left:b+"px",top:c+"px"},this.duration,function(a,b,c,d,h){return-d*(b/=h)*(b-2)+c}):this.target.css({webkitTransition:"-webkit-transform "+this.duration/1E3+"s ease-out",webkitTransform:"translate3d("+b+"px,"+c+"px,0)"});this.update(b,c)}},update:function(b,a){if(this.pageWidth||this.pageHeight){var c;
this.paginate==="y"?(c=Math.ceil(this.elmHeight/this.pageHeight)+1,this.page=Math.ceil(-a/this.pageHeight)+Math.ceil(-b/this.pageWidth)*c+1):(c=Math.ceil(this.elmWidth/this.pageWidth)+1,this.page=Math.ceil(-b/this.pageWidth)+Math.ceil(-a/this.pageHeight)*c+1)}if(this.currentX!==b||this.currentY!==a)if(this.currentX=b,this.currentY=a,d.isFunction(this.onChange))this.onChange();return this},no_mousedown:function(b){b.preventDefault()},init:function(){var b=this;b.target.find("a").each(function(){var a=
d(this),c=a.attr("href"),e=a.attr("target");c&&c!=="javascript:;"&&d.data(this,"flickSimple.link",c);d.data(this,"flickSimple.target",e||"");a.attr("href","javascript:;").removeAttr("target");b.touchable||a.unbind("mousedown",b.no_mousedown).bind("mousedown",b.no_mousedown)});b.touchable||b.target.find("img").unbind("mousedown",b.no_mousedown).bind("mousedown",b.no_mousedown);return b}});d.fn.flickSimple=function(b){var a=this;if(typeof b==="string"){var c=Array.prototype.slice.call(arguments,1);
this.each(function(){var e=d.data(this,"flickSimple"),g;e&&(d.isFunction(e[b])?g=e[b].apply(e,c):(c.length>0&&(e[b]=c[1]),g=e[b]));g!==e&&(a=g)})}else this.each(function(){var c=d.data(this,"flickSimple");c?a=c:d.data(this,"flickSimple",new d.flickSimple(this,b||{}))});return a}})(jQuery);
>>>>>>> Support vertical mode
